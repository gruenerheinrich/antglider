<project name="FirstTest" default="test">
    <target name="testdef">
        <property name="testpath" value="${ant.library.dir}/centauron.jar;${ant.library.dir}/jdom.jar;${ant.library.dir}/jacob.jar"/>
	    <taskdef resource="centauron/anttest.properties" classpath="${testpath}"/>
	    <taskdef resource="centauron/microstation/antms.properties" classpath="${testpath}"/>
    </target>
    <target name="test" depends="testdef">
    	<testsuite name="Test"  failonerror="false">
		    <!--
    		<testvalues>
		        <testvalue property="point" list="1"/>
		    </testvalues>
		    -->
		    <testinit failonerror="true" initeachtest="false">
		        <copy file="${basedir}/in/linie.dgn" tofile="${basedir}/linie.dgn" overwrite="true"/>
		    	<ms_init startfile="${basedir}/linie.dgn" handshakedir="D:/testsuite/handshaker" forcerestart="true"  singlestep="true"/>
		    </testinit>
		    <testdeinit executeonfail="false" deiniteachtest="false">
		    	<!--<ms_quit/>-->
		    </testdeinit>		    
    		<testcase name="A" failonfalse="false" ontrue="showok">
		        <ms_input keyin="place linie"/>
		        <ms_datapoint>-360,-40,0</ms_datapoint>
		        <ms_datapoint>-310,-100,0</ms_datapoint>    			
		    	<testcheck>
		    	      <mstest_compare mode="strict">
		    	      	<ms_elementset file="${basedir}/compare/linie.dgn"/>
		    	      	<ms_elementset/>
		    	      </mstest_compare>
		        </testcheck>		        
		    </testcase>    		
    		<!--
    		<testcase name="B" failonfalse="false" ontrue="showok">
    		    <ms_menu path="File,References"/>
    			<ms_menu path="Tools,Attach..." dialog="References*"/>
    			<ms_modaldialog type="last">
        			<ms_dialogitem label="Dateiname:" value="d:\temp\test.dgn"/>
                    <ms_dialogitem label="Ã–ffnen"/>
    			<ms_modaldialog/>    		
    			<ms_input keyin="quit"/>
    			<testcheck/>
    		</testcase>
    		-->
		</testsuite>
	</target>
    <target name="test_2" depends="testdef">
    	<testsuite name="Test" initeachtest="false" failonerror="false" ontrue="showok">
            <testvalues>
                <testvalue property="point" list="1,2,3,4"/>
            	<testvalue property="point2" list="A,B,C,D"/>
            	<testvalue property="point3" list="+,-"/>
            </testvalues>
        	<!--<testvalues property="point" list="1,2,3,4"/>-->
            <testcase name="A" failonfalse="false">
            	<echo message="CURRENT VALUE - ${point}  : ${point2} : ${point3}"/>
            	<testcheck/>
            </testcase>        	
        </testsuite>
    </target>
    <target name="showok">
        <echo message="HURRA"/>
    </target>
</project>